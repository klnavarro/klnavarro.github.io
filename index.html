<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="style.css?ver=12222" rel=" stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <title>Results</title>
</head>

<body style="text-align: center" id="body">


  <p id="GFG_UP" style="font-size: 15px; font-weight: bold"></p>

  <table>
    <caption>Grade sheet</caption>
    <tbody>
      <tr>
        <th>Anterior</th>
      </tr>
      <tr>
        <th>RUL</th>
        <td id="Ant_RUL Clear">Clear</td>
        <td id="Ant_RUL Diminished">Diminished</td>
        <td id="Ant_RUL Crackles">Crackles</td>
        <td id="Ant_RUL Rhonchi">Rhonchi</td>
        <td id="Ant_RUL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>RML</th>
        <td id="Ant_RML Clear">Clear</td>
        <td id="Ant_RML Diminished">Diminished</td>
        <td id="Ant_RML Crackles">Crackles</td>
        <td id="Ant_RML Rhonchi">Rhonchi</td>
        <td id="Ant_RML Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>RLL</th>
        <td id="Ant_RLL Clear">Clear</td>
        <td id="Ant_RLL Diminished">Diminished</td>
        <td id="Ant_RLL Crackles">Crackles</td>
        <td id="Ant_RLL Rhonchi">Rhonchi</td>
        <td id="Ant_RLL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>LUL</th>
        <td id="Ant_LUL Clear">Clear</td>
        <td id="Ant_LUL Diminished">Diminished</td>
        <td id="Ant_LUL Crackles">Crackles</td>
        <td id="Ant_LUL Rhonchi">Rhonchi</td>
        <td id="Ant_LUL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>LLL</th>
        <td id="Ant_LLL Clear">Clear</td>
        <td id="Ant_LLL Diminished">Diminished</td>
        <td id="Ant_LLL Crackles">Crackles</td>
        <td id="Ant_LLL Rhonchi">Rhonchi</td>
        <td id="Ant_LLL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>Posterior</th>
      </tr>
      <tr>
        <th>RUL</th>
        <td id="POST_RUL Clear">Clear</td>
        <td id="POST_RUL Diminished">Diminished</td>
        <td id="POST_RUL Crackles">Crackles</td>
        <td id="POST_RUL Rhonchi">Rhonchi</td>
        <td id="POST_RUL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>RLL</th>
        <td id="POST_RLL Clear">Clear</td>
        <td id="POST_RLL Diminished">Diminished</td>
        <td id="POST_RLL Crackles">Crackles</td>
        <td id="POST_RLL Rhonchi">Rhonchi</td>
        <td id="POST_RLL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>LUL</th>
        <td id="POST_LUL Clear">Clear</td>
        <td id="POST_LUL Diminished">Diminished</td>
        <td id="POST_LUL Crackles">Crackles</td>
        <td id="POST_LUL Rhonchi">Rhonchi</td>
        <td id="POST_LUL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>LLL</th>
        <td id="POST_LLL Clear">Clear</td>
        <td id="POST_LLL Diminished">Diminished</td>
        <td id="POST_LLL Crackles">Crackles</td>
        <td id="POST_LLL Rhonchi">Rhonchi</td>
        <td id="POST_LLL Wheezing">Wheezing</td>
      </tr>
      <tr></tr>
      <tr>
        <th>Lateral</th>
      </tr>
      <tr>
        <th>RUL</th>
        <td id="Lat_RUL Clear">Clear</td>
        <td id="Lat_RUL Diminished">Diminished</td>
        <td id="Lat_RUL Crackles">Crackles</td>
        <td id="Lat_RUL Rhonchi">Rhonchi</td>
        <td id="Lat_RUL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>RML</th>
        <td id="Lat_RML Clear">Clear</td>
        <td id="Lat_RML Diminished">Diminished</td>
        <td id="Lat_RML Crackles">Crackles</td>
        <td id="Lat_RML Rhonchi">Rhonchi</td>
        <td id="Lat_RML Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>RLL</th>
        <td id="Lat_RLL Clear">Clear</td>
        <td id="Lat_RLL Diminished">Diminished</td>
        <td id="Lat_RLL Crackles">Crackles</td>
        <td id="Lat_RLL Rhonchi">Rhonchi</td>
        <td id="Lat_RLL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>LUL</th>
        <td id="Lat_LUL Clear">Clear</td>
        <td id="Lat_LUL Diminished">Diminished</td>
        <td id="Lat_LUL Crackles">Crackles</td>
        <td id="Lat_LUL Rhonchi">Rhonchi</td>
        <td id="Lat_LUL Wheezing">Wheezing</td>
      </tr>
      <tr>
        <th>LLL</th>
        <td id="Lat_LLL Clear">Clear</td>
        <td id="Lat_LLL Diminished">Diminished</td>
        <td id="Lat_LLL Crackles">Crackles</td>
        <td id="Lat_LLL Rhonchi">Rhonchi</td>
        <td id="Lat_LLL Wheezing">Wheezing</td>
      </tr>
    </tbody>
  </table>
  <div id="correctAnswers"></div>
  <div id="unmeasured"></div>
  </table>
  <br></br>

  <script>
    document.querySelectorAll('td').forEach((cell, i) => {
      cell.dataset.id = `td${i + 1}`;
    });
    getResults()
    var CorrectValues = '{"Ant_RUL": "Clear","Ant_RML": "Clear","Ant_RLL": "Clear","Ant_LUL": "Clear","Ant_LLL": "Clear","POST_RUL": "Clear","POST_RLL": "Clear","POST_LUL": "Clear","POST_LLL": "Clear","Lat_RUL": "Clear","Lat_RML": "Clear","Lat_RLL": "Clear","Lat_LUL": "Clear","Lat_LLL": "Clear"}';
    // var CorrectValues = '{"Ant_RUL": "Diminished","Ant_RML": "Clear","Ant_RLL": "Rhonchi","Ant_LUL": "Clear","Ant_LLL": "Wheezing","POST_RUL": "Clear","POST_RLL": "Diminished","POST_LUL": "Diminished","POST_LLL": "Rhonchi","Lat_RUL": "Wheezing","Lat_RML": "Wheezing","Lat_RLL": "Crackles","Lat_LUL": "Clear","Lat_LLL": "Crackles"}';
    var CVal = JSON.parse(CorrectValues);
    var runsListed;
    var el_up = document.getElementById("GFG_UP");
    var list;
    var list2;
    var correctAnswers = 0;

    function gradeSumbit() {
      list = list2[0];
      console.log(list);
      console.log(CVal);
      for (var k in list) {
        if (k == "idS1Session") {

        } else {
          if (list[k] == CVal[k]) {
    

            var temp = k + " " + list[k];
            document.getElementById(temp).style.backgroundColor = "lime";
            correctAnswers++;


          } else {
            if (list[k] != "N/A") {
              var wronghighlight = k + " " + CVal[k];
              var temp = k + " " + list[k];
              document.getElementById(temp).style.backgroundColor = "red";
              document.getElementById(wronghighlight).style.backgroundColor = "lightblue";

            }

          }
          console.log(correctAnswers);
          document.getElementById('correctAnswers').innerHTML = "The Student got " + correctAnswers + " correct.";
          document.getElementById('unmeasured').innerHTML = "There were " + list["leftUnmeasured"] + " breathing spots left unmeasured.";

        }
        //


      }

    }


    function getResults() {
      //console.log(runID.value);
      var apiUrl = ""

      fetch(apiUrl)
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          list2 = data;
          gradeSumbit()
        })
        .catch((err) => {
          console.log("error")
          // Do something for an error here
        });

    }

  </script>
</body>

</html>